% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_by_year.R, R/utils.R
\name{extract_by_year}
\alias{extract_by_year}
\title{Extract Raster Values by Year}
\usage{
extract_by_year(sf_object, raster_list, extract_args = list())

extract_by_year(sf_object, raster_list, extract_args = list())
}
\arguments{
\item{sf_object}{sf, a spatial features object with a \code{year} column.}

\item{raster_list}{list, a named list of raster objects, where names
contain years in the format \code{name_name_year}.}

\item{extract_args}{list, optional arguments passed to the
\code{terra::extract} function (e.g., \code{exact}, \code{ID}).}
}
\value{
data.frame, a data frame containing all original columns
and band columns with extracted raster values.

data.frame, a data frame containing all original columns
and band columns with extracted raster values.
}
\description{
Extracts raster values for each feature in an \code{sf} object based on
the \code{year} column. Returns a data frame of extracted values with
all original columns retained and a single set of band columns.

Extracts raster values for each feature in an \code{sf} object based on
the \code{year} column. Returns a data frame of extracted values with
all original columns retained and a single set of band columns.
}
\examples{
# Example data
sf_object <- st_as_sf(data.frame(
    site = c("A", "B"),
    year = c(2020, 2021),
    longitude = c(-114.07, -113.49),
    latitude = c(51.05, 53.55)
), coords = c("longitude", "latitude"), crs = 4326)

raster_list <- list(
    "data_2020" = terra::rast(array(1:30, dim = c(5, 6, 3)),
        extent = c(-120, -110, 50, 55)
    ),
    "data_2021" = terra::rast(array(31:60, dim = c(5, 6, 3)),
        extent = c(-120, -110, 50, 55)
    )
)
names(raster_list[["data_2020"]]) <- c("Band1", "Band2", "Band3")
names(raster_list[["data_2021"]]) <- c("Band1", "Band2", "Band3")

# Example function call
extracted_values <- extract_by_year(
    sf_object, raster_list,
    extract_args = list(fun = "mean")
)

# Example result printing
print(extracted_values)
# Example data
sf_object <- st_as_sf(data.frame(
  site = c("A", "B"),
  year = c(2020, 2021),
  longitude = c(-114.07, -113.49),
  latitude = c(51.05, 53.55)
), coords = c("longitude", "latitude"), crs = 4326)

raster_list <- list(
  "data_2020" = terra::rast(array(1:30, dim = c(5, 6, 3)),
    extent = c(-120, -110, 50, 55)
  ),
  "data_2021" = terra::rast(array(31:60, dim = c(5, 6, 3)),
    extent = c(-120, -110, 50, 55)
  )
)
names(raster_list[["data_2020"]]) <- c("Band1", "Band2", "Band3")
names(raster_list[["data_2021"]]) <- c("Band1", "Band2", "Band3")

# Example function call
extracted_values <- extract_by_year(
  sf_object, raster_list,
  extract_args = list(fun = "mean")
)

# Example result printing
print(extracted_values)
}
